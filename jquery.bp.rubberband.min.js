/*
 * Rubberband - Responsive breakpoint events
 * @author Ben Plum
 * @version 1.3
 *
 * Copyright Â© 2012 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

(function(c){var a={addClasses:!1,breakpoints:[1240,980,740,500,340],debounce:5},e={},g=null,d={init:function(f){a=jQuery.extend(a,f);a.breakpoints.push(1E4);a.breakpoints.sort(d._sort);c(window).resize(d._respond);d._respond()},_respond:function(){d._clearTimeout();g=setTimeout(function(){d._doRespond()},a.debounce)},_doRespond:function(){d._clearTimeout();var f=window.innerWidth?window.innerWidth:document.body.clientWidth-20,b;for(b in a.breakpoints)if(b=parseInt(b,10),a.breakpoints[b+1]&&a.addClasses&& (f<=a.breakpoints[b]&&f>=a.breakpoints[b+1]?c("body").addClass("bp-min-"+a.breakpoints[b+1]+"-max-"+a.breakpoints[b]):c("body").removeClass("bp-min-"+a.breakpoints[b+1]+"-max-"+a.breakpoints[b])),f<=a.breakpoints[b]&&(f>a.breakpoints[b+1]||"undefined"===typeof a.breakpoints[b+1])&&e.max!==a.breakpoints[b])a.addClasses&&!c("body").hasClass("bp-max-"+a.breakpoints[b])&&c("body").addClass("bp-max-"+a.breakpoints[b]).addClass("bp-min-"+a.breakpoints[b+1]).removeClass("bp-max-"+e.max).removeClass("bp-min-"+ e.min),"undefined"!=typeof e.max&&c(window).trigger("rubberband.exit",[e.max]),c(window).trigger("rubberband.enter",[a.breakpoints[b]]),e.max=a.breakpoints[b],e.min=a.breakpoints[b+1]},_sort:function(a,b){return b-a},_clearTimeout:function(){null!=g&&(clearTimeout(g),g=null)}};c.rubberband=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return d.init.apply(this,arguments);c.error("RUBBERBAND: '"+a+"' does not exist.")}})(jQuery);